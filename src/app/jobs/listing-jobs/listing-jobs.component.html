<div class="text-center">
  <div class="btn-group" *ngIf="isCompany">
    <button class="btn btn-info btn__group" type="button" routerLink="create">Create</button>
  </div>
  <div class="btn-group" *ngIf="!isCompany">
    <button class="btn btn-success" (click)="goToUserAppliedJobs()">Jobs that you applied</button>
  </div>
</div>

<div class="container mt-5 mb-3">
  <div class="row">
      <h2 *ngIf="jobs == 0" class="text-center">No availables jobs!</h2>
      <div *ngFor="let job of jobs" class="col-md-4 border rounded">
          <div class="card p-3 mb-2">
              <div class="d-flex justify-content-between">
                  <div class="d-flex flex-row align-items-center">
                      <div class="icon"> <mat-icon>work</mat-icon> </div>
                      <div class="ms-3 c-details">
                          <h2 class="mb-0">{{ job.title }}</h2>
                          <span>{{ job.type }}</span>
                          <br>
                          <span>{{ job.category }}</span>
                      </div>
                  </div>
                  <div class="badge"> <span>{{ job.isActive === true ? 'Active' : 'Not Active' }}</span> </div>

              </div>
              <div class="mt-5">
                  <p class="heading">{{ job.description }}</p>
                  <div class="mt-5">
                      <div class="mt-3"> <span class="text1">{{ job.likes.length }} <span class="text2">likes</span></span> </div>
                      <div class="mt-3 btn__group" *ngIf="isCompany && companyId === job.companyId">
                        <button type="button" class="btn btn-warning" (click)="editJob(job)">Edit</button>
                        <button type="button" class="btn btn-danger" (click)="deleteJob(job)">Delete</button>
                        <button *ngIf="job.isActive" type="button" class="btn btn-secondary" (click)="deactivate(job)">Deactivate</button>
                        <button *ngIf="!job.isActive" type="button" class="btn btn-secondary" (click)="activate(job)">Activate</button>
                        <button type="button" class="btn btn-info" (click)="goToCandidates(job.id)">Candidates</button>
                      </div>
                      <div class="mt-3 btn__group" *ngIf="!isCompany && job.isActive">
                        <button type="button" class="btn btn-success" (click)="likeJob(job)">Like</button>
                        <button type="button" class="btn btn-success" (click)="apply(job)">Apply</button>
                      </div>
                  </div>
              </div>
          </div>
      </div>
  </div>
</div>
